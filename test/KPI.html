<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>ResizeAble AutoLayout</title>
    <link rel="stylesheet" href="../KPIPanal/kpi.css">
     
</head>

<body>
    <div id="chart" style="height: 800px;width:800px ">
    </div>
    <!--<script src="./kpi.js"></script>
    <script src="../lib/d3v3.js"></script>
    <script src="../lib/underscore.js"></script>
    <script src="../lib/comparechart.js"></script>-->
    <script src="../lib/require.js"></script>
    <!--<script src="../dist/KPIPanal/KPIPanal.js"></script>-->
  
    
</body>
<style>

</style>
<script>
    require.config({
        baseDir:".",
        paths: {
        // the left side is the module ID,
        // the right side is the path to
        // the jQuery file, relative to baseUrl.
        // Also, the path should NOT include
        // the '.js' file extension. This example
        // is using jQuery 1.9.0 located at
        // js/lib/jquery-1.9.0.js, relative to
        // the HTML page.
        d3: 'bower_components/d3/d3',
        underscore:"lib/underscore",
        chartmanager:"lib/comparechart"
    }
    })
    require(["KPIPanal/KPIPanal"],function(k){
var kpi=new k.KPIPanal()
        kpi.setConfig({
            left:100,top:10
        })
       
        var d1=[{"SPEED":23.5,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 02:10:00 GMT","TAXI_COUNT":1},{"SPEED":23.5,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 02:15:00 GMT","TAXI_COUNT":1},{"SPEED":23.5,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 02:20:00 GMT","TAXI_COUNT":1},{"SPEED":17.2,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 02:25:00 GMT","TAXI_COUNT":1},{"SPEED":17.2,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 02:30:00 GMT","TAXI_COUNT":1},{"SPEED":25.9,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 03:05:00 GMT","TAXI_COUNT":1},{"SPEED":18.6,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 03:30:00 GMT","TAXI_COUNT":1},{"SPEED":18.6,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 03:35:00 GMT","TAXI_COUNT":1},{"SPEED":25.4,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 03:40:00 GMT","TAXI_COUNT":1},{"SPEED":25.4,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 03:45:00 GMT","TAXI_COUNT":1},{"SPEED":25.4,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 03:50:00 GMT","TAXI_COUNT":1},{"SPEED":26.8,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 04:05:00 GMT","TAXI_COUNT":1},{"SPEED":26.8,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 04:00:00 GMT","TAXI_COUNT":1}]
        var d2=[{"SPEED":26.8,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 04:05:00 GMT","TAXI_COUNT":1},{"SPEED":33.4,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 04:15:00 GMT","TAXI_COUNT":1},{"SPEED":33.4,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 04:20:00 GMT","TAXI_COUNT":1},{"SPEED":33.4,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 04:25:00 GMT","TAXI_COUNT":1},{"SPEED":11.2,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 04:30:00 GMT","TAXI_COUNT":2},{"SPEED":11.7,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 04:35:00 GMT","TAXI_COUNT":2},{"SPEED":23.9,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 04:50:00 GMT","TAXI_COUNT":1},{"SPEED":20.7,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 04:55:00 GMT","TAXI_COUNT":2},{"SPEED":10.1,"w:layer":0,"ID":44,"TIMESTAMP":"Tue Feb 21 2017 05:00:00 GMT","TAXI_COUNT":1}]
        var d3=d1.concat(d2).map(function(o){
           
                 return {"MAX":o.SPEED+5,"MIN":o.SPEED-5,"TIMESTAMP":o["TIMESTAMP"]}
          
         })
         kpi.render().appendTo("#chart")
         kpi.update({t1:10.01,t2:30.00,t3:40,d1:[d1,d2,d3],d2:[d1,d2,d3],d3:[d1,d2,d3]})
         setTimeout(function(){
             kpi.update({t1:2.11,t2:3.33,t3:2.33,d1:[d1,d2,d3],d2:[d1,d2,d3],d3:[d1,d2,d3]})
         },2000)
    })


</script>


</html>